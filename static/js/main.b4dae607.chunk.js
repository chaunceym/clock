(this["webpackJsonpantd-demo-ts"]=this["webpackJsonpantd-demo-ts"]||[]).push([[0],{371:function(e,t,n){e.exports=n(814)},380:function(e,t,n){},381:function(e,t,n){},452:function(e,t,n){},460:function(e,t,n){},461:function(e,t,n){},462:function(e,t,n){},463:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){},478:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},811:function(e,t,n){},813:function(e,t,n){},814:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),c=n.n(r),s=n(22),i=n(118),l=n(83),u=Object(i.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return[t.payload].concat(Object(l.a)(e));case"INIT_TODOS":return Object(l.a)(t.payload);case"UPDATE_TODO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"EDIT_TODO":return e.map((function(e){return e.id===t.payload?Object.assign({},e,{editing:!0}):Object.assign({},e,{editing:!1})}));default:return e}},tomatoes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOMATO":return[t.payload].concat(Object(l.a)(e));case"INIT_TOMATOES":return Object(l.a)(t.payload);case"UPDATE_TOMATO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}}}),d=Object(i.c)(u),p=(n(380),n(9)),m=n(10),h=n(12),f=n(11),y=(n(381),n(40)),b="";b="/clock";var v=Object(y.a)({basename:b}),g=n(84),E=n(25),O=n(14),T=n.n(O),j=n(27),k=n(818),w=n(821),D=n(50),x=n(830),N=n(831),C=n(832),S=n(346),M=n.n(S),_=n(822),I=M.a.create({baseURL:"https://gp-server.hunger-valley.com/",headers:{"t-app-id":"1sWsH7UDDDZazp57zzUaQgoH","t-app-secret":"HLXMzJHYAaPqQ1ipSJQFLfPh"}});I.interceptors.request.use((function(e){var t=localStorage.getItem("x-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return console.error(e),Promise.reject(e)})),I.interceptors.response.use((function(e){return e.headers["x-token"]&&localStorage.setItem("x-token",e.headers["x-token"]),e}),(function(e){return 401===e.response.status?v.push("/login"):422===e.response.status&&"\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef"===e.response.data.errors?_.a.error(e.response.data.errors,1):422===e.response.status&&"has already been taken"===e.response.data.errors.account[0]&&_.a.error("\u7528\u6237\u540d\u5df2\u5b58\u5728",1),Promise.reject(e)}));var A=I,H=(n(452),n(820)),F=n(828),B=function(e){return{type:"INIT_TODOS",payload:e}},P=function(e){return{type:"UPDATE_TODO",payload:e}},U=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onKeyup=function(e){13===e.keyCode&&""!==a.state.description&&a.postTodo()},a.postTodo=Object(j.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("todos",{description:a.state.description});case 3:t=e.sent,a.props.addTodo(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:a.setState({description:""});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.state={description:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.state.description,n=t?a.createElement(F.a,{onClick:this.postTodo,className:"site-form-item-icon"}):a.createElement("span",null);return a.createElement("div",{className:"TodosInput",id:"TodosInput"},a.createElement(H.a,{suffix:n,value:t,placeholder:"\u6311\u9009\u4f60\u8981\u7096\u7684\u571f\u8c46",onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:this.onKeyup}))}}]),n}(a.Component),K={addTodo:function(e){return{type:"ADD_TODO",payload:e}}},L=Object(s.b)((function(e,t){return Object(E.a)({},t)}),K)(U),W=(n(460),n(824)),z=n(825),J=n(827),q=(n(461),n(2)),Q=n.n(q),V=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).updateTodo=function(){var e=Object(j.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.completed&&(t.completed_at=new Date),e.prev=1,e.next=4,A.put("todos/".concat(a.props.id),t);case 4:n=e.sent,a.props.updateTodo(n.data.resource),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.toEditing=function(){a.props.editTodo(a.props.id)},a.onKeyup=function(e){""===a.state.editText?_.a.warning("\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u5185\u5bb9",1):13===e.keyCode&&a.updateTodo({description:a.state.editText})},a.onClick=function(){""===a.state.editText?_.a.warning("\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u5185\u5bb9",1):a.updateTodo({description:a.state.editText})},a.state={editText:a.props.description},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=a.createElement("div",{className:"editing"},a.createElement("input",{value:this.state.editText,onKeyUp:this.onKeyup,onChange:function(t){return e.setState({editText:t.target.value})}}),a.createElement("span",{className:"icon-wrapper"},a.createElement(z.a,{className:"successIcon",onClick:this.onClick}),a.createElement(J.a,{className:"deleteIcon",onClick:function(t){return e.updateTodo({deleted:!0})}}))),n=a.createElement("span",{className:"text",onClick:this.toEditing},this.props.description),o=Q()({TodosItem:!0,editing:this.props.editing,completed:this.props.completed});return a.createElement("div",{className:o,id:"TodosItem"},a.createElement(W.a,{checked:this.props.completed,onChange:function(t){return e.updateTodo({completed:t.target.checked})}}),this.props.editing?t:n)}}]),n}(a.Component),Y={editTodo:function(e){return{type:"EDIT_TODO",payload:e}},updateTodo:P},R=Object(s.b)((function(e,t){return Object(E.a)({},t)}),Y)(V),X=(n(462),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return a.createElement("div",{className:"EmptySvg",id:"EmptySvg"},a.createElement("div",{className:"emptySvg"},a.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2392",width:"64",height:"64"},a.createElement("path",{d:"M898.022862 0H120.540196A56.288338 56.288338 0 0 0 64.251858 56.288338v535.122993c0 30.958586 25.329752 56.288338 56.288338 56.288338h42.280218a60.126179 60.126179 0 0 0 14.263976 23.027047 13.112624 13.112624 0 0 0 6.396402 3.709913c70.48835 18.229746 87.950528 41.000937 92.108189 52.898245 4.669373 13.240552 4.349553 21.108127 4.157662 24.306328-0.703604 0.95946-0.95946 271.783122-0.959461 271.783122h30.254982s-0.63964-260.333562-0.127928-270.759698c-1.023424-20.596415-6.716222-33.900931-6.716222-33.900931-13.624336-31.02255-46.885627-52.898245-107.971267-69.336998-5.117122-6.076582-6.652258-11.065776-6.652258-15.031544v-0.063964c0-5.436942 3.390093-10.873883 9.594603-15.543257l0.511713-0.383784a44.774814 44.774814 0 0 1 7.355862-4.413518c2.558561-1.27928 5.56487-2.238741 8.507215-3.326129 4.733337-1.087388 13.112624-2.622525 26.672996-2.622525 23.602723 0 51.171216 4.605409 81.746018 13.688301 5.117122 2.302705 10.298207 4.541445 15.351365 7.291898a244.342557 244.342557 0 0 1 24.306327 14.839653l1.727029 1.023424c103.110001 72.471235 91.596477 108.99469 91.660441 108.994691a13.560372 13.560372 0 0 0 11.897308 19.828846 13.432444 13.432444 0 0 0 11.961272-7.16397c4.221625-8.059467 18.29371-48.484727-67.29015-118.653258h238.64976c-85.455931 70.104566-71.383847 110.465863-67.162222 118.461365a14.136048 14.136048 0 0 0 12.40902 7.483791c1.918921 0 4.029733-0.511712 6.012618-1.535137a13.04866 13.04866 0 0 0 5.756762-17.845961c-0.063964-0.383784-12.281092-36.971204 91.468549-109.698295a233.468674 233.468674 0 0 1 41.448685-23.218939c30.574802-8.954963 58.07933-13.624336 81.554126-13.624337 13.496408 0 21.939659 1.535136 26.545068 2.686489 2.942345 1.023424 6.076582 2.046849 8.571179 3.390093 0.511712 0.31982 0.95946 0.447748 1.471173 0.63964 2.238741 1.27928 4.413517 2.558561 6.20451 3.837842l0.31982 0.255856c6.076582 4.733337 9.530639 10.106315 9.594603 15.607221l0.127928 0.127928a24.1784 24.1784 0 0 1-6.652258 14.96758c-61.085639 16.438753-97.161347 39.849585-107.203698 69.720783-3.198201 10.042351-4.093697 12.664876-5.500906 37.099131 2.046849 5.24505 3.390093 267.177713 3.390093 267.177713h26.09732l-1.471172-271.719158c0.63964-14.839653 3.198201-23.986508 3.198201-23.986508 3.965769-11.961272 21.363983-34.860391 92.300081-53.282029a13.432444 13.432444 0 0 0 6.268474-3.709913 60.126179 60.126179 0 0 0 14.391905-23.091011 56.288338 56.288338 0 0 0 55.009057-56.288338V56.288338a56.416266 56.416266 0 0 0-56.288338-56.288338M207.339372 258.798426h120.060466c5.117122 17.909926 13.6883 63.196452-6.652259 120.380286l-1.407208 3.965769c-9.786495 27.376601-22.067587 61.469423 5.117122 131.829846 16.630645 42.983822 6.396402 67.482041-0.575677 77.844213H323.94578l-3.581985-1.407209a213.703792 213.703792 0 0 0-46.373914-11.897308c-1.27928-0.191892-2.558561-0.383784-3.837842-0.447748a186.327191 186.327191 0 0 0-19.956774-1.27928l-4.349553 0.127928a136.243363 136.243363 0 0 0-15.607221 1.151352l-3.965769 0.447748c-1.023424 0.191892-1.918921 0.447748-3.006309 0.575677 4.733337-22.323443 7.867574-55.392842-6.844151-77.460429-15.735149-23.794616-19.445062-97.097383-0.255856-152.362296 8.315323-23.666687-1.599101-66.778437-8.699106-91.468549m530.197763 256.303829c27.184709-70.48835 14.903617-104.581173 5.117122-131.957774l-1.471172-3.837841c-20.276594-57.311762-11.577488-102.598288-6.524331-120.380286h119.996502c-7.100006 24.562184-17.014429 67.609969-8.699106 91.468549 19.061278 55.392842 15.479293 128.695609-0.31982 152.42626-14.711725 22.067587-11.513524 55.136985-6.844151 77.396465l-3.198201-0.511713-2.686488-0.255856a169.12087 169.12087 0 0 0-17.526142-1.343244l-2.366669-0.127928a201.10288 201.10288 0 0 0-74.901867 15.031545c-7.036042-10.362171-17.270285-34.924355-0.639641-77.908177m189.781248 76.309076a29.423449 29.423449 0 0 1-28.144168 29.295521 44.39103 44.39103 0 0 0-8.699107-14.839652l-1.790993-1.790993-0.63964-0.63964a58.015366 58.015366 0 0 0-6.716222-5.88469l-2.366669-1.790992a75.029796 75.029796 0 0 0-6.140546-3.837842l-2.622525-1.727028-0.95946-0.383784s-0.127928 0-0.127928-0.127928c-5.117122-17.270285-12.72884-54.497345-0.95946-72.151415 22.515335-33.836967 24.050472-116.158661 3.326129-176.156912-5.56487-16.182897 3.134237-55.904554 11.321631-82.641514h5.309014a13.496408 13.496408 0 0 0 0-27.056781h-174.813667a13.432444 13.432444 0 1 0-6.140546 25.393716c-6.012618 24.050472-12.536948 71.575739 8.635143 131.062278l1.407208 4.029733c8.763071 24.370292 18.677494 52.002748-4.797302 113.024424-19.189206 49.508152-9.210819 81.682054 1.023425 98.952339-8.954963 4.733337-18.037854 10.234243-27.184709 16.438753h-310.225498l-2.686489-1.5991a266.538072 266.538072 0 0 0-24.81804-15.031545c10.234243-17.270285 20.21263-49.508152 1.023425-98.888375-23.602723-60.893747-13.6883-88.526204-4.92523-112.896496l1.535137-4.157661c21.108127-59.486539 14.647761-106.883878 8.635142-130.998314a13.432444 13.432444 0 0 0-6.076582-25.393716h-174.621775a13.496408 13.496408 0 1 0 0 26.992817H179.387095c8.187395 26.864889 16.886501 66.522581 11.321631 82.641514-20.404522 58.846899-18.805422 142.831657 3.326129 176.156912 11.705416 17.590106 4.157661 54.881129-0.95946 72.215379-0.255856 0.191892-0.767568 0.255856-1.023424 0.447748l-2.942345 1.790992a87.8226 87.8226 0 0 0-5.756762 3.581985l-2.622525 1.918921a54.113561 54.113561 0 0 0-6.396402 5.628834l-0.895496 0.895496c-0.575676 0.575676-1.27928 1.087388-1.790993 1.663065-1.599101 1.918921-2.942345 3.965769-4.285589 5.948653l-0.063964 0.191893a41.640577 41.640577 0 0 0-4.349553 8.827034h-42.280218a29.295521 29.295521 0 0 1-29.295521-29.295521V56.096446c0-16.118933 13.112624-29.295521 29.295521-29.295522h777.482666c16.118933 0 29.295521 13.176588 29.295521 29.295522l-0.127928 535.314885M480.721594 195.985758a13.496408 13.496408 0 0 0-13.496408-13.432444c-45.734274 0-84.432507-28.272097-103.110001-41.896433a119.228934 119.228934 0 0 0-10.042351-6.908115 13.560372 13.560372 0 0 0-13.752264 23.282904c1.790993 1.087388 4.477481 3.006309 7.80361 5.564869 20.980199 15.287401 64.539696 47.013555 118.973078 47.013555a13.6883 13.6883 0 0 0 13.624336-13.624336m193.299269-62.236992c-2.238741 1.407208-5.628834 3.837841-9.978387 6.908115-18.61353 13.624336-57.311762 41.832469-103.110001 41.832469a13.496408 13.496408 0 1 0 0 26.992816c54.433381 0 97.992879-31.726154 118.973078-47.013555 3.390093-2.430633 6.012618-4.477481 7.931539-5.564869a13.432444 13.432444 0 1 0-13.816229-23.154976m-68.441501 366.5778l-90.764945-40.809045a13.240552 13.240552 0 0 0-11.641452 0.31982l-80.274845 40.681117a13.432444 13.432444 0 0 0-5.948654 18.165782 13.560372 13.560372 0 0 0 18.165782 5.948654l74.518083-37.738772 84.880255 37.994628a13.36848 13.36848 0 0 0 17.845962-6.716222 13.496408 13.496408 0 0 0-6.780186-17.845962",fill:"#ddd","p-id":"2393"}))),a.createElement("p",null,"No Data"))}}]),n}(a.Component)),Z=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return a.createElement("div",{className:"Todos",id:"Todos"},a.createElement(L,null),a.createElement("div",{className:"todoList"},this.onCompletedTodos.map((function(e){return a.createElement(R,Object.assign({key:e.id},e))})),0===this.onlineTodos.length?a.createElement(X,null):this.completedTodos.map((function(e){return a.createElement(R,Object.assign({key:e.id},e))}))))}},{key:"onDeletedTodos",get:function(){return this.props.todos.filter((function(e){return!e.deleted}))}},{key:"onCompletedTodos",get:function(){return this.onDeletedTodos.filter((function(e){return!e.completed}))}},{key:"completedTodos",get:function(){return this.onDeletedTodos.filter((function(e){return e.completed}))}},{key:"onlineTodos",get:function(){return this.props.todos.filter((function(e){return!e.deleted}))}}]),n}(a.Component),$={initTodos:B},G=Object(s.b)((function(e,t){return Object(E.a)({todos:e.todos},t)}),$)(Z),ee=(n(463),n(464),null),te=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={countDown:a.props.timer},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;ee=setInterval((function(){var t=e.state.countDown;e.setState({countDown:t-1e3}),document.title="".concat(e.countDown," - \u571f\u8c46\u70e7\u725b\u8089"),t<1e3&&(document.title="\u571f\u8c46\u70e7\u725b\u8089",e.props.onFinish(),clearInterval(ee))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(ee)}},{key:"render",value:function(){var e=1-this.state.countDown/this.props.duration;return a.createElement("div",{className:"CountDown",id:"CountDown"},a.createElement("span",{style:{position:"relative",zIndex:1}},this.countDown),a.createElement("div",{className:"progress",style:{width:"".concat(100*e,"%")}}))}},{key:"countDown",get:function(){var e=Math.floor(this.state.countDown/1e3/60),t=Math.floor(this.state.countDown/1e3%60);return"".concat(e<10?"0".concat(e):e,":").concat(t<10?"0".concat(t):t)}}]),n}(a.Component),ne=n(826),ae=(n(465),n(819)),oe=n(829),re=ae.a.confirm,ce=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).showConfirm=function(){re({title:"\u4f60\u6b63\u5728\u70e7\u7279\u522b\u9999\u7684\u725b\u8089, \u4f60\u5fcd\u5fc3\u53d6\u6d88?",icon:o.a.createElement(oe.a,null),onOk:function(){a.abortTomato()},onCancel:function(){},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"})},a.updateTomato=function(){var e=Object(j.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.put("tomatoes/".concat(a.props.unfinishedTomato.id),t);case 3:n=e.sent,a.props.updateTomato(n.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.abortTomato=function(){document.title="\u571f\u8c46\u70e7\u725b\u8089",a.updateTomato({aborted:!0})},a.onKeyUp=function(e){13===e.keyCode&&""!==a.state.description&&(a.updateTomato({description:a.state.description,ended_at:new Date}),a.setState({description:""}))},a.onFinish=function(){a.forceUpdate()},a.state={description:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null);if(void 0===this.props.unfinishedTomato)t=o.a.createElement("div",{className:"button-wrapper"},o.a.createElement(D.a,{onClick:function(){return e.props.tomatoStart()}},"\u5f00\u59cb\u70e7\u725b\u8089"));else{var n=Date.parse(this.props.unfinishedTomato.started_at),a=this.props.unfinishedTomato.duration,r=(new Date).getTime();if(r-n>a)t=o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(H.a,{value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:this.onKeyUp,placeholder:"\u8bf7\u8bf4\u51fa\u521a\u521a\u70e7\u7684\u725b\u8089\u5473\u9053\u600e\u4e48\u6837"}),o.a.createElement(ne.a,{className:"closeIcon",onClick:this.showConfirm}));else if(r-n<a){var c=a-r+n;t=o.a.createElement("div",{className:"countDown-wrapper"},o.a.createElement(te,{timer:c,onFinish:this.onFinish,duration:a}),o.a.createElement(ne.a,{className:"closeIcon",onClick:this.showConfirm}))}}return o.a.createElement("div",{className:"TomatoAction",id:"TomatoAction"},t)}}]),n}(o.a.Component),se=function(e){return{type:"UPDATE_TOMATO",payload:e}},ie=n(816),le=n(815),ue=(n(478),function(e){return a.createElement("div",{className:"TomatoItem"},a.createElement("span",null,Object(ie.a)(Object(le.a)(e.started_at),"HH:mm"),"-",Object(ie.a)(Object(le.a)(e.ended_at),"HH:mm")," :"),a.createElement("span",null,e.description))}),de=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.dates.map((function(t){var n=e.props.finishedTomatoes[t];return a.createElement("div",{key:t},a.createElement("div",{className:"title"},a.createElement("span",null,t),a.createElement("span",null,"\u70e7\u4e86 ",n.length," \u4e2a\u571f\u8c46\u725b\u8089")),n.map((function(e){return a.createElement(ue,Object.assign({key:e.id},e))})))}));return a.createElement("div",{className:"TomatoList",id:"TomatoList"},t)}},{key:"dates",get:function(){return Object.keys(this.props.finishedTomatoes).sort((function(e,t){return Date.parse(t)-Date.parse(e)})).splice(0,3)}}]),n}(a.Component),pe=n(34),me=n.n(pe),he=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).tomatoStart=Object(j.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.post("tomatoes",{duration:15e5});case 3:n=t.sent,e.props.addTomato(n.data.resource),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"Tomatoes",id:"Tomatoes"},o.a.createElement(ce,{tomatoStart:this.tomatoStart,updateTomato:this.props.updateTomato,unfinishedTomato:this.unfinishedTomato}),o.a.createElement("div",{className:"tomatoList"},0===this.onlineTomatoes.length?o.a.createElement(X,null):o.a.createElement(de,{finishedTomatoes:this.finishedTomato})))}},{key:"unfinishedTomato",get:function(){return this.props.tomatoes.filter((function(e){return!e.description&&!e.ended_at&&!e.aborted}))[0]}},{key:"finishedTomato",get:function(){var e=this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted}));return me.a.groupBy(e,(function(e){return Object(ie.a)(Object(le.a)(e.started_at),"yyyy-MM-dd")}))}},{key:"onlineTomatoes",get:function(){return this.props.tomatoes.filter((function(e){return!e.aborted}))}}]),n}(o.a.Component),fe={addTomato:function(e){return{type:"ADD_TOMATO",payload:e}},updateTomato:se},ye=Object(s.b)((function(e,t){return Object(E.a)({tomatoes:e.tomatoes},t)}),fe)(he),be=(n(480),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).point=function(){var t=Object.keys(e.props.data).sort((function(e,t){return Date.parse(e)-Date.parse(t)})),n=t[0],a=(new Date).getTime()-Date.parse(n);if(n){var o,r=0,c=t.map((function(t){var c=(Date.parse(t)-Date.parse(n))/a*300,s=60*(1-(r+=e.props.data[t].length)/e.props.totalFinishedCount);return o=s,"".concat(c,",").concat(s)}));return["0,60"].concat(Object(l.a)(c),["300,".concat(o),"300,60"]).join(" ")}return"0,60 300,60"},e}return Object(m.a)(n,[{key:"render",value:function(){return a.createElement("div",{className:"Ploygon",id:"Ploygon"},a.createElement("svg",null,a.createElement("polygon",{fill:"rgba(215,78,78,0.1)",stroke:"rgba(215,78,78,0.5)",strokeWidth:"1",points:this.point()})))}}]),n}(a.Component)),ve=n(817),ge=(n(481),n(482),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).updateTodo=function(){var t=Object(j.a)(T.a.mark((function t(n){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.put("todos/".concat(e.props.todo.id),n);case 3:a=t.sent,e.props.updateTodo(a.data.resource),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(n,[{key:"render",value:function(){var e,t,n=this;return"finished"===this.props.itemType?(t=this.props.todo.updated_at,e=a.createElement("div",{className:"action"},a.createElement("span",{onClick:function(){return n.updateTodo({completed:!1})}},"\u6062\u590d"),a.createElement("span",{onClick:function(){return n.updateTodo({deleted:!0})}},"\u5220\u9664"))):"deleted"===this.props.itemType&&(t=this.props.todo.created_at,e=a.createElement("div",{className:"action"},a.createElement("span",{onClick:function(){return n.updateTodo({deleted:!1})}},"\u6062\u590d"))),a.createElement("div",{className:"HistoryTodoItem",id:"HistoryTodoItem"},a.createElement("div",{className:"text"},a.createElement("span",null,Object(ie.a)(Object(le.a)(t),"HH:mm"),":"),a.createElement("span",null,this.props.todo.description)),e)}}]),n}(a.Component)),Ee={updateTodo:P},Oe=Object(s.b)((function(e,t){return Object(E.a)({},t)}),Ee)(ge),Te=ve.a.TabPane,je=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).weekDays=function(e){var t=Object(ie.a)(Object(le.a)(e),"eeee");return{Monday:"\u5468\u4e00",Tuesday:"\u5468\u4e8c",Wednesday:"\u5468\u4e09",Thursday:"\u5468\u56db",Friday:"\u5468\u4e94",Saturday:"\u5468\u516d",Sunday:"\u5468\u65e5"}["".concat(t)]},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.finishedDates.map((function(t){return a.createElement("div",{key:t,className:"dailyTodos"},a.createElement("div",{className:"todosTitle"},a.createElement("p",null,a.createElement("span",{className:"date"},t),a.createElement("span",{className:"week"},e.weekDays(t))),a.createElement("p",{className:"mission"},"\u7096\u6210\u4e86 ",e.dailyFinishedTodos[t].length," \u4e2a\u571f\u8c46")),a.createElement("div",{className:"todosBody"},e.dailyFinishedTodos[t].map((function(e){return a.createElement(Oe,{itemType:"finished",key:e.id,todo:e})}))))})),n=this.deletedDates.map((function(t){return a.createElement("div",{key:t,className:"dailyTodos"},a.createElement("div",{className:"todosTitle"},a.createElement("p",null,a.createElement("span",{className:"date"},t),a.createElement("span",{className:"week"},e.weekDays(t))),a.createElement("p",{className:"mission"},"\u6254\u6389\u4e86 ",e.dailyDeletedTodos[t].length," \u4e2a\u571f\u8c46")),a.createElement("div",{className:"todosBody"},e.dailyDeletedTodos[t].map((function(e){return a.createElement(Oe,{itemType:"deleted",key:e.id,todo:e})}))))}));return a.createElement(ve.a,{defaultActiveKey:"1"},a.createElement(Te,{tab:"\u5df2\u5b8c\u6210\u7684\u4efb\u52a1",key:"1"},a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},t)),a.createElement(Te,{tab:"\u5df2\u5220\u9664\u7684\u4efb\u52a1",key:"2"},a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},n)))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"deletedTodos",get:function(){return this.props.todos.filter((function(e){return e.deleted}))}},{key:"dailyFinishedTodos",get:function(){return me.a.groupBy(this.finishedTodos,(function(e){return Object(ie.a)(Object(le.a)(e.completed_at),"yyyy-MM-dd")}))}},{key:"dailyDeletedTodos",get:function(){return me.a.groupBy(this.deletedTodos,(function(e){return Object(ie.a)(Object(le.a)(e.updated_at),"yyyy-MM-dd")}))}},{key:"finishedDates",get:function(){return Object.keys(this.dailyFinishedTodos).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}},{key:"deletedDates",get:function(){return Object.keys(this.dailyDeletedTodos).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}}]),n}(a.Component),ke=Object(s.b)((function(e,t){return Object(E.a)({todos:e.todos},t)}))(je),we=(n(501),n(502),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).updateTomato=function(){var e=Object(j.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.put("tomatoes/".concat(a.props.tomato.id),t);case 3:n=e.sent,a.props.updateTomato(n.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.onKeyUp=function(e){""===a.state.description?_.a.warning("\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u4fee\u6539\u7684\u5185\u5bb9",1):13===e.keyCode&&(a.updateTomato({description:a.state.description}),a.setState({visible:!1}))},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(){""!==a.state.description&&a.updateTomato({description:a.state.description}),a.setState({visible:!1})},a.handleCancel=function(){a.setState({visible:!1})},a.state={visible:!1,description:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e,t,n=this;return"finished"===this.props.itemType&&(t=this.props.tomato.ended_at,e=a.createElement("div",{className:"action"},a.createElement("span",{onClick:this.showModal},"\u4fee\u6539"))),a.createElement("div",{className:"HistoryTomatoItem",id:"HistoryTomatoItem"},a.createElement("div",{className:"text"},a.createElement("span",null,Object(ie.a)(Object(le.a)(t),"HH:mm"),":"),a.createElement("span",null,this.props.tomato.description)),e,a.createElement(ae.a,{title:"\u4fee\u6539\u63cf\u8ff0",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},a.createElement(H.a,{placeholder:"\u8bf7\u8f93\u5165\u4fee\u6539\u7684\u503c",value:this.state.description,onChange:function(e){return n.setState({description:e.target.value})},onKeyUp:this.onKeyUp})))}}]),n}(a.Component)),De={updateTomato:se},xe=Object(s.b)((function(e,t){return Object(E.a)({},t)}),De)(we),Ne=ve.a.TabPane,Ce=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).weekDays=function(e){var t=Object(ie.a)(Object(le.a)(e),"eeee");return{Monday:"\u5468\u4e00",Tuesday:"\u5468\u4e8c",Wednesday:"\u5468\u4e09",Thursday:"\u5468\u56db",Friday:"\u5468\u4e94",Saturday:"\u5468\u516d",Sunday:"\u5468\u65e5"}["".concat(t)]},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.finishedDates.map((function(t){return a.createElement("div",{key:t,className:"dailyTodos"},a.createElement("div",{className:"todosTitle"},a.createElement("p",null,a.createElement("span",{className:"date"},t),a.createElement("span",{className:"week"},e.weekDays(t))),a.createElement("p",{className:"mission"},"\u70e7\u6210\u4e86 ",e.dailyFinishedTomatoes[t].length," \u4e2a\u725b\u8089")),a.createElement("div",{className:"todosBody"},e.dailyFinishedTomatoes[t].map((function(e){return a.createElement(xe,{itemType:"finished",key:e.id,tomato:e})}))))})),n=this.abortedDates.map((function(t){return a.createElement("div",{key:t,className:"dailyTodos"},a.createElement("div",{className:"todosTitle"},a.createElement("p",null,a.createElement("span",{className:"date"},t),a.createElement("span",{className:"week"},e.weekDays(t))),a.createElement("p",{className:"mission"},"\u70e7\u7cca\u4e86 ",e.dailyAbortedTomatoes[t].length," \u4e2a\u725b\u8089")))}));return a.createElement(ve.a,{defaultActiveKey:"1"},a.createElement(Ne,{tab:"\u5df2\u5b8c\u6210\u7684\u4efb\u52a1",key:"1"},a.createElement("div",{className:"TomatoHistory",id:"TomatoHistory"},t)),a.createElement(Ne,{tab:"\u5df2\u5220\u9664\u7684\u4efb\u52a1",key:"2"},a.createElement("div",{className:"TomatoHistory",id:"TomatoHistory"},n)))}},{key:"finishedTomatoes",get:function(){return this.props.tomatoes.filter((function(e){return e.ended_at&&!e.aborted}))}},{key:"dailyFinishedTomatoes",get:function(){return me.a.groupBy(this.finishedTomatoes,(function(e){return Object(ie.a)(Object(le.a)(e.ended_at),"yyyy-MM-dd")}))}},{key:"finishedDates",get:function(){return Object.keys(this.dailyFinishedTomatoes).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}},{key:"abortedTomatoes",get:function(){return this.props.tomatoes.filter((function(e){return e.aborted}))}},{key:"dailyAbortedTomatoes",get:function(){return me.a.groupBy(this.abortedTomatoes,(function(e){return Object(ie.a)(Object(le.a)(e.created_at),"yyyy-MM-dd")}))}},{key:"abortedDates",get:function(){return Object.keys(this.dailyAbortedTomatoes).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}}]),n}(a.Component),Se=Object(s.b)((function(e,t){return Object(E.a)({tomatoes:e.tomatoes},t)}))(Ce),Me=n(366),_e=n.n(Me),Ie=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).getOption=function(){return{title:{text:"\u6c47\u603b\u7edf\u8ba1",subtext:"".concat((new Date).getMonth()+1,"\u6708\u6c47\u603b")},tooltip:{trigger:"axis"},legend:{data:["\u571f\u8c46","\u725b\u8089"]},toolbox:{show:!0,feature:{magicType:{show:!0,type:["line","bar"]},restore:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:a.state.days}],yAxis:[{type:"value"}],series:[{name:"\u571f\u8c46",type:"bar",data:a.state.todosData,itemStyle:{normal:{color:"#EBA6A6"}}},{name:"\u725b\u8089",type:"bar",data:a.state.tomatoesData,itemStyle:{normal:{color:"#1890FF"}}}]}},a.state={days:[],todosData:[],tomatoesData:[]},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],n=["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],a=["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],o=(new Date).getMonth()+1;[1,3,5,7,8,10,12].indexOf(o)>=0?(this.setState({days:[].concat(t,["29","30","31"])}),n.push("0","0","0"),a.push("0","0","0")):[4,6,9,11].indexOf(o)>=0?(this.setState({days:[].concat(t,["29","30"])}),n.push("0","0"),a.push("0","0")):2===o&&this.setState({days:[].concat(t)}),this.todoMonth&&this.todoMonth===o.toString()&&this.todoDate.forEach((function(t){void 0!==t&&(n[t-1]=e.dailyFinishedTodos[t].length)})),this.tomatoMonth&&this.tomatoMonth===o.toString()&&this.tomatoDate.forEach((function(t){void 0!==t&&(a[t-1]=e.dailyFinishedTomatoes[t].length)})),this.setState({todosData:[].concat(n)}),this.setState({tomatoesData:[].concat(a)})}},{key:"render",value:function(){return a.createElement("div",{className:"Echarts",id:"Echarts"},a.createElement(_e.a,{notMerge:!0,option:this.getOption()}))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"dailyFinishedTodos",get:function(){return me.a.groupBy(this.finishedTodos,(function(e){return Object(ie.a)(Object(le.a)(e.completed_at),"M")===((new Date).getMonth()+1).toString()?Object(ie.a)(Object(le.a)(e.completed_at),"d"):void 0}))}},{key:"todoDate",get:function(){return Object.keys(this.dailyFinishedTodos)}},{key:"finishedTomatoes",get:function(){return this.props.tomatoes.filter((function(e){return e.ended_at&&!e.aborted}))}},{key:"dailyFinishedTomatoes",get:function(){return me.a.groupBy(this.finishedTomatoes,(function(e){return Object(ie.a)(Object(le.a)(e.ended_at),"M")===((new Date).getMonth()+1).toString()?Object(ie.a)(Object(le.a)(e.ended_at),"d"):void 0}))}},{key:"todoMonth",get:function(){var e=me.a.groupBy(this.finishedTodos,(function(e){return Object(ie.a)(Object(le.a)(e.completed_at),"M")})),t=Object.keys(e);return t&&t[t.length-1]}},{key:"tomatoMonth",get:function(){var e=me.a.groupBy(this.finishedTomatoes,(function(e){return Object(ie.a)(Object(le.a)(e.ended_at),"M")})),t=Object.keys(e);return t&&t[t.length-1]}},{key:"tomatoDate",get:function(){return Object.keys(this.dailyFinishedTomatoes)}}]),n}(a.Component),Ae=Object(s.b)((function(e,t){return Object(E.a)({tomatoes:e.tomatoes,todos:e.todos},t)}))(Ie),He=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).toggleHistory=function(e){"echarts"===e?o.setState({visible:a.createElement(Ae,null)}):"tomatoes"===e?0===o.finishedTomatoes.length?_.a.warning("\u8fd8\u6ca1\u6709\u5b8c\u6210\u7684\u725b\u8089",1):o.setState({visible:a.createElement(Se,null)}):"todos"===e&&(0===o.finishedTodos.length?_.a.warning("\u8fd8\u6ca1\u6709\u5b8c\u6210\u7684\u571f\u8c46",1):o.setState({visible:a.createElement(ke,null)}))},o.state={visible:""},o}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"Statistics",id:"Statistics"},a.createElement("ul",{className:"ulNode"},a.createElement("li",{onClick:function(){return e.toggleHistory("echarts")}},a.createElement("h2",null,"\u7edf\u8ba1"),a.createElement("div",null,a.createElement("p",{style:{padding:"0",margin:"0"}},(new Date).getMonth()+1,"\u6708\u7d2f\u79ef"),a.createElement("h1",null,this.echartData)),a.createElement("div",{className:"echartsPloygon"},a.createElement("svg",{width:"100%",height:"60"},a.createElement("rect",{fill:"rgba(215,78,78,0.5)",x:"84.39999999999999",y:"0",width:"16",height:"60"}),a.createElement("rect",{fill:"rgba(215,78,78,0.5)",x:"115.2",y:"50",width:"16",height:"20"}),a.createElement("rect",{fill:"rgba(215,78,78,0.5)",x:"146",y:"40.00000000000001",width:"16",height:"19.999999999999993"}),a.createElement("rect",{fill:"rgba(215,78,78,0.5)",x:"176.79999999999998",y:"59",width:"16",height:"1"}),a.createElement("rect",{fill:"rgba(215,78,78,0.5)",x:"207.6",y:"59",width:"16",height:"10"}),a.createElement("rect",{fill:"rgba(215,78,78,0.5)",x:"238.4",y:"59",width:"16",height:"1"}),a.createElement("rect",{fill:"rgba(215,78,78,0.5)",x:"269.2",y:"59",width:"16",height:"1"})))),a.createElement("li",{onClick:function(){return e.toggleHistory("tomatoes")}},a.createElement("h2",null,"\u725b\u8089\u5386\u53f2"),a.createElement("div",null,a.createElement("p",{style:{padding:"0",margin:"0"}},"\u7d2f\u8ba1\u70e7\u6210\u725b\u8089:"),a.createElement("h1",null,this.finishedTomatoes.length)),a.createElement(be,{data:this.dailyTomato,totalFinishedCount:this.finishedTomatoes.length})),a.createElement("li",{onClick:function(){return e.toggleHistory("todos")}},a.createElement("h2",null,"\u571f\u8c46\u5386\u53f2"),a.createElement("div",null,a.createElement("p",{style:{padding:"0",margin:"0"}},"\u7d2f\u8ba1\u7096\u6210\u571f\u8c46:"),a.createElement("h1",null,this.finishedTodos.length)),a.createElement(be,{data:this.dailyTodo,totalFinishedCount:this.finishedTodos.length}))),this.state.visible)}},{key:"finishedTomatoes",get:function(){return this.props.tomatoes.filter((function(e){return e.description&&!e.aborted}))}},{key:"dailyTomato",get:function(){return me.a.groupBy(this.finishedTomatoes,(function(e){return Object(ie.a)(Object(le.a)(e.ended_at),"yyyy-MM-d")}))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"echartData",get:function(){var e=me.a.groupBy(this.finishedTomatoes,(function(e){return Object(ie.a)(Object(le.a)(e.ended_at),"M")})),t=me.a.groupBy(this.finishedTodos,(function(e){return Object(ie.a)(Object(le.a)(e.completed_at),"M")})),n=(new Date).getMonth()+1;return(e[n]?e[n].length:0)+(t[n]?t[n].length:0)}},{key:"dailyTodo",get:function(){return me.a.groupBy(this.finishedTodos,(function(e){return Object(ie.a)(Object(le.a)(e.completed_at),"yyyy-MM-d")}))}}]),n}(a.Component),Fe=Object(s.b)((function(e,t){return Object(E.a)({tomatoes:e.tomatoes,todos:e.todos},t)}))(He),Be=a.createElement(k.a,null,a.createElement(k.a.Item,{key:"1"},a.createElement(x.a,null),"\u504f\u597d\u8bbe\u7f6e"),a.createElement(k.a.Item,{key:"2",onClick:function(){localStorage.setItem("x-token",""),v.push("/login")}},a.createElement(x.a,null),"\u9000\u51fa\u767b\u5f55")),Pe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).getTodos=Object(j.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("todos");case 3:t=e.sent,n=t.data.resources.map((function(e){return Object.assign({},e,{editing:!1})})),a.props.initTodos(n),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.getTomatoes=Object(j.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("tomatoes");case 3:t=e.sent,a.props.initTomatoes(t.data.resources),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.getMe=Object(j.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("me");case 2:t=e.sent,a.setState({user:t.data});case 4:case"end":return e.stop()}}),e)}))),a.state={user:{}},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMe();case 2:return e.next=4,this.getTodos();case 4:return e.next=6,this.getTomatoes();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement("div",{className:"Index",id:"Index"},a.createElement("header",null,a.createElement("h2",{className:"logo"},a.createElement("strong",{style:{margin:"4px",fontWeight:"bold"}},a.createElement(N.a,null)),a.createElement("strong",null,"\u571f\u8c46\u70e7\u725b\u8089")),a.createElement(w.a,{overlay:Be},a.createElement(D.a,{className:"userButton"},a.createElement("span",null,a.createElement("strong",null,"\u6b22\u8fce ",this.state.user&&this.state.user.account)),a.createElement(C.a,{className:"userIcon"})))),a.createElement("main",null,a.createElement(G,null),a.createElement(ye,null)),a.createElement(Fe,null))}}]),n}(a.Component),Ue={initTodos:B,initTomatoes:function(e){return{type:"INIT_TOMATOES",payload:e}}},Ke=Object(s.b)((function(e,t){return Object(E.a)({},t)}),Ue)(Pe),Le=n(833),We=n(143),ze=(n(811),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onChange=function(e,t){var n={};n[e]=t,a.setState(n)},a.submit=Object(j.a)(T.a.mark((function e(){var t,n,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.state.account){e.next=4;break}return e.abrupt("return",_.a.warning("\u8bf7\u8f93\u5165\u7528\u6237\u540d",1));case 4:if(""!==a.state.password){e.next=6;break}return e.abrupt("return",_.a.warning("\u8bf7\u8f93\u5165\u5bc6\u7801",1));case 6:return t=a.state,n=t.account,o=t.password,e.prev=7,e.next=10,A.post("sign_in/user",{account:n,password:o});case 10:a.props.history.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[7,13]])}))),a.state={account:"",password:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.account,o=t.password;return a.createElement("div",{className:"Login",id:"Login"},a.createElement("h1",null,"\u756a\u8304\u95f9\u949f\u767b\u5f55"),a.createElement(H.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",value:n,prefix:a.createElement(x.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,.25)"}}),onChange:function(t){return e.onChange("account",t.target.value)}}),a.createElement(H.a.Password,{prefix:a.createElement(Le.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,.25)"}}),value:o,onChange:function(t){return e.onChange("password",t.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),a.createElement(D.a,{className:"LoginButton",onClick:this.submit,type:"primary"},"\u767b\u5f55"),a.createElement("p",null,"\u5982\u679c\u4f60\u6ca1\u6709\u8d26\u53f7,\u8bf7\u7acb\u5373",a.createElement(We.a,{to:"/signup"},"\u6ce8\u518c")))}}]),n}(a.Component)),Je=(n(813),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onChangeAccount=function(e){a.setState({account:e.target.value})},a.onChangePassword=function(e){a.setState({password:e.target.value})},a.onChangePasswordConfirmation=function(e){a.setState({passwordConfirmation:e.target.value})},a.submit=Object(j.a)(T.a.mark((function e(){var t,n,o,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.state.account){e.next=4;break}return e.abrupt("return",_.a.warning("\u8bf7\u8f93\u5165\u7528\u6237\u540d",1));case 4:if(""!==a.state.password){e.next=8;break}return e.abrupt("return",_.a.warning("\u8bf7\u8f93\u5165\u5bc6\u7801",1));case 8:if(""!==a.state.passwordConfirmation){e.next=10;break}return e.abrupt("return",_.a.warning("\u8bf7\u786e\u8ba4\u5bc6\u7801",1));case 10:return t=a.state,n=t.account,o=t.password,r=t.passwordConfirmation,e.prev=11,e.next=14,A.post("sign_up/user",{password_confirmation:r,account:n,password:o});case 14:a.props.history.push("/"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[11,17]])}))),a.state={account:"",password:"",passwordConfirmation:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state,t=e.account,n=e.password,o=e.passwordConfirmation;return a.createElement("div",{className:"Component",id:"SignUp"},a.createElement("h1",null,"\u756a\u8304\u95f9\u949f\u6ce8\u518c"),a.createElement(H.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",value:t,prefix:a.createElement(x.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,.25)"}}),onChange:this.onChangeAccount}),a.createElement(H.a.Password,{prefix:a.createElement(Le.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,.25)"}}),value:n,onChange:this.onChangePassword,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),a.createElement(H.a.Password,{prefix:a.createElement(Le.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,.25)"}}),value:o,onChange:this.onChangePasswordConfirmation,placeholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801"}),a.createElement(D.a,{className:"SignUpButton",onClick:this.submit,type:"primary"},"\u6ce8\u518c"),a.createElement("p",null,"\u5982\u679c\u4f60\u6709\u8d26\u53f7,\u8bf7\u7acb\u5373",a.createElement(We.a,{to:"/login"},"\u767b\u5f55")))}}]),n}(a.Component)),qe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement(g.b,{history:v},o.a.createElement("div",null,o.a.createElement(g.a,{exact:!0,path:"/",component:Ke}),o.a.createElement(g.a,{path:"/login",component:ze}),o.a.createElement(g.a,{path:"/signup",component:Je})))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe=document.querySelector(".upSvg");document.onscroll=function(){window.scrollY>=1e3?(Qe.classList.add("visible"),Qe.onclick=function(){window.scrollTo(0,-1)}):Qe.classList.remove("visible")},c.a.render(o.a.createElement(s.a,{store:d},o.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[371,1,2]]]);
//# sourceMappingURL=main.b4dae607.chunk.js.map